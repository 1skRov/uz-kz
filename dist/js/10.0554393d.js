"use strict";(self["webpackChunkuzbek"]=self["webpackChunkuzbek"]||[]).push([[10],{1125:function(e,o,t){t.r(o),t.d(o,{default:function(){return j}});var i=t(6768),r=t(4232),s=t(5130);const n={class:"dialog-overlay"},a={class:"dialog-content"},l={class:"dialog-header"},d={class:"dialog-title font-gilroy"},c={class:"dialog-description"},u={class:"dialog-body"},m={class:"form-grid"},h={class:"form-group"},p={for:"name"},b={key:0,class:"error-message"},f={class:"form-group"},g={for:"birthDate"},k={key:0,class:"error-message"},v={class:"form-group"},_={for:"iin"},y={key:0,class:"error-message"},L={class:"form-group"},C={for:"phone"},D={key:0,class:"error-message"},T={class:"city"},F={style:{width:"100%",display:"flex","justify-content":"end"}},I=["disabled"];function E(e,o,t,E,w,x){const M=(0,i.g2)("map-fill");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",a,[(0,i.Lk)("div",l,[(0,i.Lk)("button",{class:"close-btn",onClick:o[0]||(o[0]=(...e)=>x.closeModal&&x.closeModal(...e))},"×"),(0,i.Lk)("h1",d,(0,r.v_)(e.getTranslations.association_title||"{ association_title }"),1),(0,i.Lk)("p",c,(0,r.v_)(e.getTranslations.association_description||"{ association_description }"),1)]),(0,i.Lk)("div",u,[(0,i.Lk)("div",m,[(0,i.Lk)("div",h,[(0,i.Lk)("label",p,(0,r.v_)(e.getTranslations.your_fcs||"{ your_fcs }"),1),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":o[1]||(o[1]=e=>w.form.name=e)},null,512),[[s.Jo,w.form.name]]),w.errors.name?((0,i.uX)(),(0,i.CE)("span",b,(0,r.v_)(w.errors.name),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",f,[(0,i.Lk)("label",g,(0,r.v_)(e.getTranslations.date_of_birth||"{ date_of_birth }"),1),(0,i.bo)((0,i.Lk)("input",{type:"date",id:"birthDate","onUpdate:modelValue":o[2]||(o[2]=e=>w.form.birthDate=e)},null,512),[[s.Jo,w.form.birthDate]]),w.errors.birthDate?((0,i.uX)(),(0,i.CE)("span",k,(0,r.v_)(w.errors.birthDate),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",v,[(0,i.Lk)("label",_,(0,r.v_)(e.getTranslations.iin||"{ iin }"),1),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"iin","onUpdate:modelValue":o[3]||(o[3]=e=>w.form.iin=e),maxlength:"12",onInput:o[4]||(o[4]=(...e)=>x.validateIIN&&x.validateIIN(...e))},null,544),[[s.Jo,w.form.iin]]),w.errors.iin?((0,i.uX)(),(0,i.CE)("span",y,(0,r.v_)(w.errors.iin),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",L,[(0,i.Lk)("label",C,(0,r.v_)(e.getTranslations.phone_number||"{ phone_number }"),1),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":o[5]||(o[5]=e=>w.form.phone=e)},null,512),[[s.Jo,w.form.phone]]),w.errors.phone?((0,i.uX)(),(0,i.CE)("span",D,(0,r.v_)(w.errors.phone),1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",T,(0,r.v_)(e.getTranslations.country||"{ country }"),1),(0,i.Lk)("div",null,[(0,i.bF)(M,{onRegionSelected:x.handleRegionSelected},null,8,["onRegionSelected"])]),(0,i.Lk)("div",F,[(0,i.Lk)("button",{disabled:w.submitting,onClick:o[6]||(o[6]=(...e)=>x.submitForm&&x.submitForm(...e)),class:"submit-btn font-gilroy"},(0,r.v_)(w.submitting?"...":e.getTranslations.send_request_btn||"{ send_request_btn }"),9,I)])])])])}t(4114),t(8992),t(2577);var w=t(3173),x=t(6989),M=t(782),S={name:"Dialog",props:{visible:{type:Boolean,required:!0}},components:{MapFill:x.A},data(){return{form:{name:"",birthDate:"",iin:"",phone:"",city:""},regionCode:null,errors:{},submitting:!1}},computed:{...(0,M.L8)(["getTranslations"])},methods:{handleRegionSelected(e){this.regionCode=e},closeModal(){this.$router.push("/")},validateIIN(){this.form.iin=this.form.iin.replace(/\D/g,"").slice(0,12)},validateForm(){let e=!0;this.errors={name:this.form.name?null:"ФИО обязательно.",birthDate:this.form.birthDate?null:"Дата рождения обязательна.",iin:this.form.iin?null:"ИИН обязателен.",phone:this.form.phone?null:"Телефон обязателен."};for(const o in this.errors)this.errors[o]&&(e=!1);return e},scrollToFirstError(){const e=Object.keys(this.errors).find((e=>this.errors[e]));if(e){const o=this.$el.querySelector(`#${e}`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.focus())}},async submitForm(){if(!this.validateForm())return void this.scrollToFirstError();const e={name:this.form.name,iin:this.form.iin,date_birth:this.form.birthDate,phone_number:this.form.phone,region_code:this.regionCode};this.submitting=!0;try{await w.Ay.post("/jointogroups/",e,{headers:{"Content-Type":"application/json"}});this.closeModal()}catch(o){console.error("Ошибка при отправке заявки:",o),alert("Произошла ошибка при отправке заявки. Попробуйте позже.")}finally{this.submitting=!1}}}},V=t(1241);const X=(0,V.A)(S,[["render",E],["__scopeId","data-v-927de3a4"]]);var j=X}}]);
//# sourceMappingURL=10.0554393d.js.map